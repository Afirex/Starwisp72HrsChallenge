(this.webpackJsonpstarwisp=this.webpackJsonpstarwisp||[]).push([[0],{18:function(e,t,a){e.exports=a(43)},23:function(e,t,a){},24:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(16),c=a.n(o),r=(a(23),a(24),a(5)),m=a(4),s=a(1),u=a(6),i=a.n(u),d=a(17),p=a(3),E=a.n(p),f=function(e){var t=e.posts,a=e.loading,o=e.fetchpost,c=Object(n.useState)(!1),u=Object(s.a)(c,2),i=u[0],d=u[1],p=Object(n.useState)({uid:""}),f=Object(s.a)(p,2),b=f[0],g=f[1],v=Object(n.useState)({uni_name:"",Registration_date:"",Expiry_date:"",imgurl:"",no_of_students:"",email:"",web_url:"",contact_no:""}),h=Object(s.a)(v,2),N=h[0],_=h[1];if(a)return l.a.createElement("h2",null," fetching");function x(e){var t=e.target.name;g({uid:t}),E()({url:"/delete",method:"POST",data:{uid:t}}).then((function(e){o()})).catch((function(){console.log("Connection not done")}))}function y(e){var t=e.target,a=t.name;t.value;d(!i),function(e){g((function(){return{uid:e}}))}(a)}function C(e){var t=e.target,a=t.name,n=t.value;_((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(r.a)({},a,n))}))}function O(e){var t=e.target.name;E()({url:"/update",method:"POST",data:{uid:t,data:N}}).then((function(e){alert("request sent"),o()})).catch((function(){console.log("Connection not done")})),d(!i)}function j(){}return l.a.createElement("div",null,l.a.createElement("div",{className:"flex"},l.a.createElement("div",{className:"list-group mb-4"},l.a.createElement("h4",{className:"colortits"},"College name | | Registration_date | | Expiry_date | | no_of_students | | email | | web_url | | contact_no | |"),t.map((function(e){return l.a.createElement("div",{className:"flex"},l.a.createElement("input",{type:"text",className:"form-control",name:"uni_name",onChange:j,value:e.uni_name}),l.a.createElement("input",{type:"text",className:"form-control",name:"Registration_date",onChange:j,value:e.Registration_date.slice(0,10)||""}),l.a.createElement("input",{type:"text",className:"form-control",name:"userid",onChange:j,value:e.Expiry_date.slice(0,10)}),l.a.createElement("input",{type:"text",className:"form-control",name:"userid",value:e.no_of_students,onChange:j}),l.a.createElement("input",{type:"text",className:"form-control",name:"userid",value:e.email,onChange:j}),l.a.createElement("input",{type:"text",className:"form-control",name:"userid",value:e.web_url,onChange:j}),l.a.createElement("input",{type:"text",className:"form-control",name:"userid",value:e.contact_no,onChange:j}),l.a.createElement("button",{className:"btn",name:e.uid,onClick:y},"Edit"),l.a.createElement("button",{className:"btn",name:e.uid,onClick:x},"Delete"))})))),i?l.a.createElement("div",{className:"box2"},l.a.createElement("h4",{className:"colortits"},"only Fill columns to be updated, Rest Leave empty"),l.a.createElement("br",null),l.a.createElement("label",null,"College Name:",l.a.createElement("input",{type:"text",className:"form-control pads",name:"uni_name",onChange:C})),l.a.createElement("label",null,"Registration_date",l.a.createElement("input",{type:"text",className:"form-control",name:"Registration_date",onChange:C})),l.a.createElement("label",null,"Expiry_date",l.a.createElement("input",{type:"text",className:"form-control",name:"Expiry_date",onChange:C})),l.a.createElement("label",null,"no_of_students",l.a.createElement("input",{type:"text",className:"form-control",name:"no_of_students",onChange:C})),l.a.createElement("label",null,"email",l.a.createElement("input",{type:"text",className:"form-control",name:"email",onChange:C})),l.a.createElement("label",null,"web_url",l.a.createElement("input",{type:"text",className:"form-control",name:"web_url",onChange:C})),l.a.createElement("label",null,"contact_no",l.a.createElement("input",{type:"text",className:"form-control",name:"contact_no",onChange:C})),l.a.createElement("button",{className:"btn",name:b.uid,onClick:O},"SEND UPDATE REQUEST")):null)},b=function(e){e.postperpage,e.totalPost;var t=e.paginate;return l.a.createElement("div",null,l.a.createElement("nav",null," ",l.a.createElement("ul",{className:"pagination"},l.a.createElement("li",{key:1,className:"page-item"},l.a.createElement("a",{onClick:function(){return t(2)},className:"page-link"}," prev ")),l.a.createElement("li",{key:2,className:"page-item"},l.a.createElement("a",{onClick:function(){return t(1)},className:"page-link"}," next ")))),l.a.createElement("a",{href:"/",className:"btn"},"Update Connection"))};var g=function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),o=a[0],c=a[1],u=Object(n.useState)(!1),p=Object(s.a)(u,2),g=p[0],v=p[1],h=Object(n.useState)(1),N=Object(s.a)(h,2),_=N[0],x=N[1],y=Object(n.useState)(3),C=Object(s.a)(y,1)[0],O=function(){var e=Object(d.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,E.a.get("/university");case 3:t=e.sent,c(t.data),v(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){O()}),[]);var j=_*C,w=j-C,S=o.slice(w,j);function k(e){var t=_;1===e?x(t+1):t>1&&x(t-1)}var R=Object(n.useState)(!1),P=Object(s.a)(R,2),D=P[0],T=P[1],U=Object(n.useState)(!1),A=Object(s.a)(U,2),I=A[0],q=A[1],F=Object(n.useState)({uni_name:"",Registration_date:"",Expiry_date:"",imgurl:"",no_of_students:"",email:"",web_url:"",contact_no:""}),H=Object(s.a)(F,2),J=H[0],V=H[1];function B(e){var t=e.target,a=t.name,n=t.value;V((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(r.a)({},a,n))}))}function G(e){E()({url:"/add",method:"POST",data:{adddata:J}}).then((function(e){alert("request sent"),O(),V({uni_name:"",Registration_date:"",Expiry_date:"",imgurl:"",no_of_students:"",email:"",web_url:"",contact_no:""})})).catch((function(){alert("server Refused"),console.log("Connection not done")})),T(!D)}return l.a.createElement("div",{className:"box2"},l.a.createElement("nav",{className:"navbar navbar-inverse navbar-fixed-top"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"navbar-header"},l.a.createElement("a",{className:"navbar-brand",href:"http://lifeisgta.ga",target:"blank"},"Starwisp Afirex   ")),l.a.createElement("ul",{className:"nav navbar-nav"},l.a.createElement("li",{onClick:function(){return T(!D)}},l.a.createElement("a",null,"Add")),l.a.createElement("li",{onClick:function(){return q(!I)}},l.a.createElement("a",null,"View"))),l.a.createElement("ul",null,l.a.createElement("h5",{className:"logout"},l.a.createElement("a",{href:"/",onClick:e.setlogout},"logout"))))),D?l.a.createElement("div",{className:"box3"},l.a.createElement("h4",{className:"colortits"},"Add Data"),l.a.createElement("br",null),l.a.createElement("label",null,"College Name:",l.a.createElement("input",{type:"text",className:"form-control pads",name:"uni_name",onChange:B})),l.a.createElement("label",null,"Registration_date",l.a.createElement("input",{type:"text",className:"form-control",name:"Registration_date",onChange:B})),l.a.createElement("label",null,"Expiry_date",l.a.createElement("input",{type:"text",className:"form-control",name:"Expiry_date",onChange:B})),l.a.createElement("label",null,"img_url",l.a.createElement("input",{type:"text",className:"form-control",name:"imgurl",onChange:B})),l.a.createElement("label",null,"no_of_students",l.a.createElement("input",{type:"text",className:"form-control",name:"no_of_students",onChange:B})),l.a.createElement("label",null,"email",l.a.createElement("input",{type:"text",className:"form-control",name:"email",onChange:B})),l.a.createElement("label",null,"web_url",l.a.createElement("input",{type:"text",className:"form-control",name:"web_url",onChange:B})),l.a.createElement("label",null,"contact_no",l.a.createElement("input",{type:"text",className:"form-control",name:"contact_no",onChange:B})),l.a.createElement("br",null),l.a.createElement("button",{className:"btn",onClick:G},"Send Addition")):null,I?l.a.createElement("div",null,l.a.createElement(f,{posts:S,loading:g,fetchpost:O}),l.a.createElement(b,{postperpage:C,totalPost:o.length,paginate:k})):l.a.createElement("footer",null,"Click View to view info"))};var v=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)({userid:"",password:""}),u=Object(s.a)(c,2),i=u[0],d=u[1];function p(e){E()({url:"/save",method:"POST",data:i}).then((function(e){"found"===e.data.msg?o(!0):alert("USER NOT FOUND")})).catch((function(){console.log("Connection not done")})),e.preventDefault()}function f(e){var t=e.target,a=t.name,n=t.value;d((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(r.a)({},a,n))}))}function b(){o(!a),E()({url:"/logout",method:"POST",data:!1}).then((function(e){})).catch((function(){console.log("Connection not done")})),console.log("logging out")}return E()({url:"/save",method:"GET"}).then((function(e){console.log("react: "+e.data.msg),!0===e.data.msg&&o(!0)})).catch((function(){console.log("Connection not done")})),l.a.createElement("div",null,!0===a?l.a.createElement(g,{setlogout:b}):l.a.createElement("div",{className:"box"},l.a.createElement("div",{className:"box3 logo"},"Starwisp Challenge"),l.a.createElement("form",{onSubmit:p},l.a.createElement("div",{className:"form-group color"},l.a.createElement("label",{className:"colortits"},"User ID"),l.a.createElement("input",{type:"text",className:"form-control",id:"userid","aria-describedby":"emailHelp",name:"userid",value:i.userid,onChange:f,placeholder:"Enter User ID"}),l.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"We'll never share your ID with anyone else.")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"colortits"},"Password"),l.a.createElement("input",{type:"password",name:"password",value:i.password,onChange:f,className:"form-control",id:"password",placeholder:"Password"})),l.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"))))};var h=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(v,null))};c.a.render(l.a.createElement(h,null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.18b8994d.chunk.js.map